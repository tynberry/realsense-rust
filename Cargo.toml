[package]
authors = [
    "jerry73204 <jerry73204@gmail.com>",
    "Jeremy Steward <jeremy.steward@tangramvision.com>",
    "Brandon Minor <brandon@tangramvision.com>",
    "Paul Jakob Schroeder <paul.schroeder@tangramvision.com>",
]
categories = ["external-ffi-bindings", "computer-vision", "hardware-support"]
description = "High-level RealSense library in Rust"
edition = "2018"
homepage = "https://gitlab.com/tangram-vision-oss/realsense-rust"
keywords = ["Intel", "RealSense", "Sensor", "Robotics"]
license = "Apache-2.0"
name = "realsense-rust"
readme = "README.md"
repository = "https://gitlab.com/tangram-vision-oss/realsense-rust"
version = "1.2.3"

[features]
# - The default build. This uses RealSense bindings, generated by bindgen and imported into src/ via
#   realsense-sys/bindings.
default = []
# - Rebuild the FFI bindings used to interface with the RealSense API. This flag is passed to the realsense-sys
#   Cargo.toml.
buildtime-bindgen = ["realsense-sys/buildtime-bindgen"]
# - This feature does nothing in terms of library functionality / behaviour, but is instead for running tests that
#   utilize a single device on the backend.
test-single-device = []
# Only build docs, don't link to anything
docs-only = ["realsense-sys/docs-only"]

[dependencies]
anyhow = "1.0"
num-derive = "0.3"
num-traits = "0.2"
realsense-sys = { version = "2.54.3", path = "realsense-sys" }
serde = { version = "1.0.215", features = ["derive"] }
thiserror = "1.0"

[dev-dependencies]
opencv = { version = "0.84", features = [
    "highgui",
    "imgproc",
    "clang-runtime", # necessary for error "a `libclang` shared library is not loaded on this thread"
] }
getopts = "0.2"

[lints.rust]
warnings = "deny"
missing_docs = "deny"

[lints.clippy]
missing_docs_in_private_items = "deny"

[package.metadata.docs.rs]
no-default-features = true
features = ["docs-only"]
